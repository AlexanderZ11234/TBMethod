(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 13.2' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[     65912,       1601]
NotebookOptionsPosition[     59638,       1475]
NotebookOutlinePosition[     62299,       1538]
CellTagsIndexPosition[     62177,       1532]
WindowTitle->HMatrixFromHoppings
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell[BoxData[GridBox[{
   {GridBox[{
      {
       ItemBox[Cell[BoxData[
         RowBox[{
          TemplateBox[{12},
           "Spacer1"], Cell["T B METHOD SYMBOL", "PacletNameCell",
           TextAlignment->Center,ExpressionUUID->
           "d90e5343-45fc-4dbb-97ad-48257aa56aba"], 
          TemplateBox[{8},
           "Spacer1"]}]],
         TextAlignment->Center,ExpressionUUID->
         "a048633e-0bf3-4371-a6da-7089c23702bc"],
        Background->RGBColor[0.490196, 0.576471, 0.690196],
        ItemSize->Full], ""}
     },
     GridBoxAlignment->{"Rows" -> {{Center}}},
     GridBoxItemSize->{"Columns" -> {Full, 
         Scaled[0.02]}, "Rows" -> {{2.5}}}], Cell[TextData[{
     Cell[BoxData[
      TagBox[
       ActionMenuBox[
        FrameBox[Cell[TextData[{
          "See Also",
          " ",
          Cell[BoxData[
           GraphicsBox[
            {GrayLevel[0.66667], Thickness[0.13], 
             LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]},
            AspectRatio->1,
            ImageSize->20,
            PlotRange->{{-3, 4}, {-1, 1}}]],ExpressionUUID->
           "f55f8e36-f5e7-4bc3-88e2-d1dd1fabf1d2"]
         }],ExpressionUUID->"e0803db8-fd53-442a-9a57-5ebedc8f193c"],
         StripOnInput->False], {"\<\"AttachFreeQ\"\>":>
        Documentation`HelpLookup[
        "paclet:TBMethod/ref/AttachFreeQ"], "\<\"HBloch\"\>":>
        Documentation`HelpLookup[
        "paclet:TBMethod/ref/HBloch"], "\<\"HCSRDiagOffDiagBlocks\"\>":>
        Documentation`HelpLookup[
        "paclet:TBMethod/ref/HCSRDiagOffDiagBlocks"], "\<\"HLeadBlocks\"\>":>
        Documentation`HelpLookup["paclet:TBMethod/ref/HLeadBlocks"]},
        Appearance->None,
        MenuAppearance->Automatic,
        MenuStyle->"SeeAlso"],
       MouseAppearanceTag["LinkHand"]]],
      LineSpacing->{1.4, 0},ExpressionUUID->
      "7b5264f2-e000-4eae-ba77-e1015fd1c73f"],
     "\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\
\[ThickSpace]",
     Cell[BoxData[
      TagBox[
       ActionMenuBox[
        FrameBox[Cell[TextData[{
          "Related Guides",
          " ",
          Cell[BoxData[
           GraphicsBox[
            {GrayLevel[0.66667], Thickness[0.13], 
             LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]},
            AspectRatio->1,
            ImageSize->20,
            PlotRange->{{-3, 4}, {-1, 1}}]],ExpressionUUID->
           "ea69b94d-7e61-4cd0-9540-02490ddb765c"]
         }],ExpressionUUID->"2272f719-e6e6-427a-859d-4bf03ae8245a"],
         StripOnInput->False], {"\<\"TBMethod\"\>":>Documentation`HelpLookup[
        "paclet:TBMethod/guide/TBMethod"]},
        Appearance->None,
        MenuAppearance->Automatic,
        MenuStyle->"MoreAbout"],
       MouseAppearanceTag["LinkHand"]]],
      LineSpacing->{1.4, 0},ExpressionUUID->
      "0ce1cfc3-6bd2-4e73-a647-757babb58385"],
     "\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\
\[ThickSpace]",
     Cell[BoxData[
      TagBox[
       ActionMenuBox[
        FrameBox[Cell[TextData[{
          "URL",
          " ",
          Cell[BoxData[
           GraphicsBox[
            {GrayLevel[0.66667], Thickness[0.13], 
             LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]},
            AspectRatio->1,
            ImageSize->20,
            PlotRange->{{-3, 4}, {-1, 1}}]],ExpressionUUID->
           "e38aeac7-fd82-472d-913d-6749387b7bd1"]
         }],ExpressionUUID->"3df5c204-9cb2-4384-a7e3-e600a38189c8"],
         StripOnInput->False], {"\<\"TBMethod/ref/HMatrixFromHoppings\"\>":>
        None, "\<\"Copy Wolfram Documentation Center URL\"\>":>
        Module[{DocumentationSearch`Private`nb$}, 
         DocumentationSearch`Private`nb$ = NotebookPut[
            Notebook[{
              Cell["TBMethod/ref/HMatrixFromHoppings"]}, Visible -> False]]; 
         SelectionMove[DocumentationSearch`Private`nb$, All, Notebook]; 
         FrontEndTokenExecute[DocumentationSearch`Private`nb$, "Copy"]; 
         NotebookClose[DocumentationSearch`Private`nb$]; Null], 
        Delimiter, "\<\"Copy web URL\"\>":>
        Module[{DocumentationSearch`Private`nb$}, 
         DocumentationSearch`Private`nb$ = NotebookPut[
            Notebook[{
              Cell[
               BoxData[
                MakeBoxes[
                 Hyperlink[
                 "http://reference.wolfram.com/language/TBMethod/ref/\
HMatrixFromHoppings.html"], StandardForm]], "Input", TextClipboardType -> 
               "PlainText"]}, Visible -> False]]; 
         SelectionMove[DocumentationSearch`Private`nb$, All, Notebook]; 
         FrontEndTokenExecute[DocumentationSearch`Private`nb$, "Copy"]; 
         NotebookClose[DocumentationSearch`Private`nb$]; 
         Null], "\<\"Go to web URL\"\>":>FrontEndExecute[{
          NotebookLocate[{
            URL[If[
               TrueQ[DocumentationBuild`Make`Private`wsmlinkQ$16766], 
               "http://reference.wolfram.com/system-modeler/", 
               "http://reference.wolfram.com/language/"] <> 
             "TBMethod/ref/HMatrixFromHoppings" <> ".html"], None}]}]},
        Appearance->None,
        MenuAppearance->Automatic,
        MenuStyle->"URLMenu"],
       MouseAppearanceTag["LinkHand"]]],
      LineSpacing->{1.4, 0},ExpressionUUID->
      "33109b68-c62b-4ea5-a125-273dbba129b5"]
    }], "AnchorBar",
     CacheGraphics->False,ExpressionUUID->
     "a233d15b-2817-4e22-a8e8-246d50f8cbcd"]}
  }]], "AnchorBarGrid",
 CellID->1,ExpressionUUID->"5bf21281-fd27-460f-bc8d-814783f84ac9"],

Cell["TBMethod`MDConstruct`", "ContextNameCell",ExpressionUUID->"09f7328c-8be3-41e6-bca6-7ccf88e27106"],

Cell[CellGroupData[{

Cell[BoxData[GridBox[{
   {Cell[TextData[{
     Cell[
     "HMatrixFromHoppings", "ObjectName",ExpressionUUID->
      "2a78773e-a373-4f1f-ad4e-95cf24782f2f"],
     Cell[BoxData[
      TemplateBox[{8},
       "Spacer1"]],ExpressionUUID->"af7dd9e2-3874-46a8-8486-f93491b38a1f"],
     Cell[BoxData[
     ""], "ObjectNameTranslation",ExpressionUUID->
      "a89fe42d-673a-47ae-9aa4-ce67c692161c"]
    }],ExpressionUUID->"6bc482a4-25ef-4965-8304-a39ecd38c025"], 
    "\[SpanFromLeft]"}
  }]], "ObjectNameGrid",ExpressionUUID->"d7241724-6e32-442f-8ad5-\
5fe7be201ecb"],

Cell[BoxData[GridBox[{
   {"", Cell[TextData[{
     Cell[BoxData[
      RowBox[{"HMatrixFromHoppings", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          StyleBox["fpts",
           FontSlant->"Italic"], ",", " ", 
          StyleBox["ipts",
           FontSlant->"Italic"]}], 
         StyleBox["}",
          FontSlant->"Italic"]}], ",", " ", 
        StyleBox["tfunc",
         FontSlant->"Italic"], ",", " ", 
        SubscriptBox[
         StyleBox["d",
          FontSlant->"Italic"], "up"]}], "]"}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "b89737a1-c326-4343-aef8-4e73dc2e58fe"],
     " constructs the real-space tight-binding Hamiltonian matrix from two \
sets of points (",
     Cell[BoxData[
      StyleBox["fpts",
       FontSlant->"Italic"]],ExpressionUUID->
      "764298ec-f7e9-4421-89ca-03de3c152006"],
     " and ",
     Cell[BoxData[
      StyleBox["ipts",
       FontSlant->"Italic"]],ExpressionUUID->
      "345f2582-31ee-4a4c-8c06-e86b0f174f70"],
     ") and a given hopping function ",
     Cell[BoxData[
      StyleBox["tfunc",
       FontSlant->"Italic"]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "ac7c8b9c-db10-423f-985d-7bbb2bc4eb14"],
     " depending on the coordinates of one pair of points, within the space \
distance upper limit ",
     Cell[BoxData[
      SubscriptBox[
       StyleBox["d",
        FontSlant->"Italic"], "up"]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "28011973-6c25-4ff2-851b-92085942c158"],
     "."
    }],ExpressionUUID->"1b6bd5f1-3af0-4bc5-a417-152832a280b3"]},
   {"", Cell[TextData[{
     Cell[BoxData[
      RowBox[{"HMatrixFromHoppings", "[", 
       RowBox[{
        StyleBox["pts",
         FontSlant->"Italic"], ",", " ", 
        StyleBox["tfunc",
         FontSlant->"Italic"], ",", " ", 
        SubscriptBox[
         StyleBox["d",
          FontSlant->"Italic"], "up"]}], "]"}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "7eb09850-2d59-4a5a-9c7f-310c3c94343e"],
     " does the same thing within one set of points ",
     Cell[BoxData[
      StyleBox["pts",
       FontSlant->"Italic"]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "52efe63f-55fc-4892-937d-34d3b75c0578"],
     "."
    }],ExpressionUUID->"16f38022-4f12-4684-8ec2-e65293a81261"]}
  }]], "Usage",
 CellID->272985237,ExpressionUUID->"3b2f49b9-d4ed-4c73-a3fa-f46f5dc82680"]
}, Open  ]],

Cell[CellGroupData[{

Cell[TextData[Cell[BoxData[
 ButtonBox[Cell[TextData[{
   Cell[BoxData[
    DynamicBox[ToBoxes[
      If[
       MatchQ[
        CurrentValue[
         EvaluationNotebook[], {TaggingRules, "Openers", "NotesSection"}, 
         Closed], 
        Alternatives[Open, True]], 
       Style[
        Graphics[{
          Thickness[0.18], 
          RGBColor[0.8509803921568627, 0.396078431372549, 0], 
          Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
         PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
        0.68 Inherited], 
       Rotate[
        Style[
         Graphics[{
           Thickness[0.18], 
           RGBColor[0.8509803921568627, 0.396078431372549, 0], 
           Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
          PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
         0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]],
     ImageSizeCache->{
      13.600000000000001`, {0.5800000000000001, 13.020000000000001`}}]],
    ExpressionUUID->"8160a36c-ae63-47a8-a940-b921192257bd"],
   Cell[BoxData[
    TemplateBox[{1},
     "Spacer1"]],ExpressionUUID->"ec930ca6-2f49-4eb4-a7db-ac5cdec977b9"],
   "Details and Options"
  }], "NotesFrameText",ExpressionUUID->"adbd92fc-b494-40d4-b74e-0799919a2b08"],
  Appearance->{Automatic, None, "Normal", Automatic},
  BaseStyle->None,
  ButtonFunction:>(FrontEndExecute[{
     FrontEnd`SelectionMove[
      FrontEnd`SelectedNotebook[], All, ButtonCell], 
     FrontEndToken["OpenCloseGroup"], 
     FrontEnd`SelectionMove[
      FrontEnd`SelectedNotebook[], After, CellContents]}]& ),
  Evaluator->None,
  Method->
   "Preemptive"]],ExpressionUUID->"f59c51c3-c4e8-4c2b-9340-2acb2ae812f5"]], \
"NotesSection",
 WholeCellGroupOpener->True,
 CellGroupingRules->{"SectionGrouping", 50},
 CacheGraphics->False,
 CellID->61203554,ExpressionUUID->"93799a31-3b6d-4a3d-b51b-65fa32f5529a"],

Cell[TextData[{
 Cell[BoxData[
  StyleBox["fpts",
   FontSlant->"Italic"]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "6517f408-27d4-40e2-96d9-5139d80b4b3e"],
 StyleBox[" ",
  FontSlant->"Italic"],
 "and ",
 Cell[BoxData[
  StyleBox["ipts",
   FontSlant->"Italic"]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "9142eace-ef26-4f09-94ba-3bdff82582d5"],
 StyleBox[" ",
  FontSlant->"Italic"],
 "are the same as those in ",
 Cell[BoxData[
  TemplateBox[{
    Cell[
     TextData["AttachFreeQ"]], "paclet:TBMethod/ref/AttachFreeQ", 
    "TBMethod Package Symbol"},
   "PackageLink",
   BaseStyle->"InlineFormula"]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "ccfec30f-caa1-471b-a129-9bdcff846137"],
 "."
}], "Notes",
 CellID->573653719,ExpressionUUID->"71058613-1643-402d-a283-065e962496a0"],

Cell[TextData[{
 Cell[BoxData[
  RowBox[{"HMatrixFromHoppings", "[", 
   RowBox[{
    StyleBox["pts",
     FontSlant->"Italic"], ",", " ", 
    StyleBox["tfunc",
     FontSlant->"Italic"], ",", " ", 
    SubscriptBox[
     StyleBox["d",
      FontSlant->"Italic"], "up"]}], "]"}]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "475dd991-7c33-4609-8c25-863aa00ab2ce"],
 " actually works as ",
 Cell[BoxData[
  RowBox[{"HMatrixFromHoppings", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
      StyleBox["pts",
       FontSlant->"Italic"], ",", " ", 
      StyleBox["pts",
       FontSlant->"Italic"]}], 
     StyleBox["}",
      FontSlant->"Italic"]}], ",", " ", 
    StyleBox["tfunc",
     FontSlant->"Italic"], ",", " ", 
    SubscriptBox[
     StyleBox["d",
      FontSlant->"Italic"], "up"]}], "]"}]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "08af46e9-0b20-4ba9-bbe0-be1f760147e0"],
 "."
}], "Notes",
 CellID->433456935,ExpressionUUID->"47a1c098-9311-4d1d-b22d-2e385294a771"]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "NotesSection"}, Closed]]]],

Cell[CellGroupData[{

Cell[TextData[{
 Cell[BoxData[
  DynamicBox[ToBoxes[
    If[
     MatchQ[
      CurrentValue[
       EvaluationNotebook[], {
       TaggingRules, "Openers", "PrimaryExamplesSection"}, Open], 
      Alternatives[True, Open]], 
     Style[
      Graphics[{
        Thickness[0.18], 
        RGBColor[0.8509803921568627, 0.396078431372549, 0], 
        Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
       PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
      0.68 Inherited], 
     Rotate[
      Style[
       Graphics[{
         Thickness[0.18], 
         RGBColor[0.8509803921568627, 0.396078431372549, 0], 
         Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
        PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
       0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]],
   ImageSizeCache->{13.600000000000001`, {5., 8.600000000000001}}]],
  ExpressionUUID->"acd8df4a-8ef7-4c0e-b8b7-2824b0f3e925"],
 Cell[BoxData[
  TemplateBox[{1},
   "Spacer1"]],ExpressionUUID->"a02ddf75-ba44-41a3-b78b-22d475f10a1d"],
 "Examples",
 "\[NonBreakingSpace]\[NonBreakingSpace]",
 Cell["(1)", "ExampleCount",ExpressionUUID->
  "53e60b85-170e-4f9e-9f48-bff3313d81c2"]
}], "PrimaryExamplesSection",
 WholeCellGroupOpener->True,
 CacheGraphics->False,
 CellTags->"PrimaryExamplesSection",
 CellID->383195530,ExpressionUUID->"834920fa-b4ac-4e06-adb8-6f8c6e10c8ad"],

Cell[CellGroupData[{

Cell[TextData[{
 Cell[BoxData[
  DynamicBox[ToBoxes[
    If[
     MatchQ[
      CurrentValue[
       EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "0"},
        Closed], 
      Alternatives[Open, True]], 
     Style[
      Graphics[{
        Thickness[0.18], 
        RGBColor[0.8509803921568627, 0.396078431372549, 0], 
        Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
       PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
      0.68 Inherited], 
     Rotate[
      Style[
       Graphics[{
         Thickness[0.18], 
         RGBColor[0.8509803921568627, 0.396078431372549, 0], 
         Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
        PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
       0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]],
   ImageSizeCache->{13.600000000000001`, {5., 8.600000000000001}}]],
  ExpressionUUID->"b01651c5-924c-4f2d-9987-022c74b4de52"],
 Cell[BoxData[
  TemplateBox[{1},
   "Spacer1"]],ExpressionUUID->"08f85a2c-145f-4813-b97e-084ffb62f594"],
 "Basic Examples",
 "\[NonBreakingSpace]\[NonBreakingSpace]",
 Cell["(1)", "ExampleCount",ExpressionUUID->
  "4ee463ba-c89e-4a45-93f1-850c85bd5f60"]
}], "ExampleSection", "ExampleSection",
 WholeCellGroupOpener->True,
 CacheGraphics->False,
 CellID->275229547,ExpressionUUID->"651c79db-4a54-4ea7-a05a-55b836a57b71"],

Cell["Load the package", "ExampleText",
 CellID->11904999,ExpressionUUID->"97773341-59aa-427c-b919-d278bca24781"],

Cell[BoxData[
 RowBox[{"Needs", "[", "\"\<TBMethod`\>\"", "]"}]], "Input",
 CellLabel->"In[1]:=",
 CellID->226833854,ExpressionUUID->"e1cc271f-dfef-4e9f-9019-24db7aedc553"],

Cell["\<\
First we build up a simple model with one set of three points and another set \
of two points, with their visualization\
\>", "ExampleText",
 CellID->166050835,ExpressionUUID->"2bf72d9d-c4d0-40fc-977e-e6f7193a10f8"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"pts1", "=", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"0", ",", "0"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"1", ",", "0"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"1", ",", "1"}], "}"}]}], "}"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"pts2", "=", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"2", ",", "0"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"2", ",", "1"}], "}"}]}], "}"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"ListPlot", "[", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{"pts1", "\[Rule]", 
      RowBox[{"Range", "[", "3", "]"}]}], ",", 
     RowBox[{"pts2", "\[Rule]", 
      RowBox[{"Range", "[", "2", "]"}]}]}], "}"}], ",", 
   RowBox[{"PlotStyle", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        RowBox[{"PointSize", "[", ".02", "]"}], ",", "Red"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"PointSize", "[", ".02", "]"}], ",", "Blue"}], "}"}]}], 
     "}"}]}], ",", 
   RowBox[{"AspectRatio", "\[Rule]", "Automatic"}], ",", 
   RowBox[{"PlotRange", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"0", ",", "2.1"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"0", ",", "1.1"}], "}"}]}], "}"}]}]}], "]"}]}], "Input",
 CellLabel->"In[2]:=",
 CellID->225342390,ExpressionUUID->"d80fd6ef-a991-4ef3-9e64-95dc13aa61de"],

Cell[BoxData[
 GraphicsBox[
  TagBox[RasterBox[CompressedData["
1:eJzt3cGO48adx3FtctljX/QAOevqw97kAL7kmiC6J1hPtBcHcAIsFnoH+Qn0
Ahl6DI9hDIaGr7oOZAfjAX0JzIMHDQPq6TY8A7Rt7X/091RKZJGiSlLrT+r7
wbghUWS3SBd/KhWrir/5819/f+9XvV7vb/8pP37/p//97fvv/+n//nAhT/74
3t/+5y/vvfvfv3vv7+/+5d33/+vPv5aFv/qPXu9f8t/rxysAwBm7d+/eqd8C
ACCAfAYAm8hnALCJfAYAm+69ceo3AgDYQDIDgE3kMwDYRD4DgE3kMwDYRD4D
gE3kM+xL03Q4HPbWxuNxlmWnfkdopSRJXEGSB/L01O9oC/IZxk2nUzmbBoPB
bDaTx/1+X54uFotTvy+0zGQycQVJyAN5KgtP/b7qkM+wLM9zreosl0tdIpVn
XXLS94WWkQ90/fLllkiJ0rq05a9j5DMsm8/nUs9J09RfOBqNmOARO5EiJGVG
ipO/UJ7KQqlLn+pdbcX4QbROf+3U7wKtp5Vq4/l86rcANCVfReUrqpxT9q/s
wD5tkS5Uqk0hn9EWvTcsV3jQFnohYzAYnPqN1CGf0QpyNrXosjuMk+KkHYEs
Xxxckc9oG3fZvXDREGjIhbP9IkQ+4+599913co78s+TFixe3t7dbN9fL7n5f
KZwnKUhff/31TgVJCo9eX7YfzivyGXfr+fPncl78o0Ke569evdr6S/Sy+2g0
uoM3DJsuLy8jCpL2spNwNt6s4ZDPuDOSq1UnVNVplSSJnE2F0YJ6lk2n07t9
+7BCasj379/fqSCtWhjOK/IZd+XJkyd67jx48ODZs2fX19dNttJzyq8qL5dL
vUTYorMMB+QXpKdPnzYsSJLY2qzRrmLD+BTcAXdOPXr06ObmZqdt/WkT3Pwb
rWg8xMG5gvTw4cOrq6vmG7pSNCqxXJZIZhybH84vX76M+A2SzG7aMTmhLA8o
wPH44dyw2uzod66gQ3Wnlyp6818lZVhWTpJEtqpZjXzGUe0fzsBqsyB9//33
p347AQ2nhZFAdpUNVTMYlnzG8SyXS72OQzhjH64gSc151/axu6HtJ03yWcNZ
M9llddV8ueQzjkpK4OPHjwln7EkLksGas3x26JwwTfJZu+77XY9k85rOouQz
4t3erj74YPXWW6uLi9c/5XFoUMDPP/98928NLdKsHFksSNotRCO3SfuG3myi
UFvWeHcznPvIZ0SSU+jtt1dSIP1/77wTPrWACq0uR5K0bihik3wOrjObzaqa
OMhnRJJaTuGk0n+yHGis1eVI6s+u3tskn7UbSWGh5nOwmx/5jEjyRTR4Xsly
oLHOlKMm+Rxso9Z8DvbNI58R6eIifF7JcqCxzpSjI+Wz72DvFZ3XmXoPTqoz
5Yj2DRjS6nZDmNGZcsT1QRjS6uvuMKMz5ah5/7rCHE30r8NRNOy3CtTqRjlq
ks9V41OGw2FwffIZAPYXzOc0TWezmT8JUnB8d9WUX+QzAOwvmM+60G9bzrKs
MJke8yMBwFFpVTm4sDyJKPOLAkCrkc8AYBP5DAA2MXIQAGwimQHAJvIZAGwi
nwHAJvIZAGwinwHAJvIZAGwinwHAJvIZAGwinwHAJsYPAoBNJDMA2EQ+A4BN
5DMA2EQ+A4BN5DMA2EQ+A4BN5DMA2EQ+A4BNjE8BAJtIZgDYR5ZlszV50GT9
5XKZpmmTTchnAIg2Ho97Hnlav74Ecr/f9zeZTCZVK5PPABBnOp1qwC7X5IE8
lVpxzSaDwUDWSZJEHud5rvFetQn5DAARJJAlWofDob9Qnkr1WF4KbrJYLGQT
SfX6X+KQzwAQYT6fl6u+UjGWhfJScBPN58ImskQiPbg++QwAESRmJVolcv2F
wQR28jwv1JZ1/apWa/IZACJoa3Mwn2su+aVpKisMBgPJcP0NEtdV7SHkMwBE
GI1GVfksL1VtlWWZBLLff6PmeiL5DAARIvJZO9cJ3cp1+ahp3/AdfBcAoJMi
2je0N11hE10YHKhCJgNAhIjrgzoypbAw2A9Ekc8AEEFzVUeaOPX968hnALgD
VeNTZGFVf4xg+4a2k9C+AQAHFBzf7Q8P1HmQ8jzXp9r6IbVorWDLJtpIUnU9
kXwGgDgSsNqLo2p+pHIfD0nswvxIsg79nwHgGGrmFy3UnxXziwJA25HPAGAT
+QwANjFyEABsIpkBwCbyGQBsIp8BwCbyGQBsIp8BwCbyGQBsIp8BwCbyGQBs
Ip8BwCbGDwKATSQzANhEPgOATeQzANhEPgOATeQzANhEPgOATeQzANhEPgOA
TYxPAQCbSGYA2EeWZbM1ebDrJvP5vGY18hkAoo3H455Hntavv1wuR6ORv8lw
OJSFwZXJZwCIM51OJWAnk8lyTR7IU6kV12yieS7r+JvIz+DK5DMARJB01dqv
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
    "], {{0, 129.00662950734966`}, {240.01233396716216`, 0}}, {0, 255},
    ColorFunction->RGBColor,
    ImageResolution->{143.9926, 143.9926},
    SmoothingQuality->"High"],
   BoxForm`ImageTag["Byte", ColorSpace -> "RGB", Interleaving -> True],
   Selectable->False],
  DefaultBaseStyle->"ImageGraphics",
  ImageSize->Automatic,
  ImageSizeRaw->{240.01233396716216`, 129.00662950734966`},
  PlotRange->{{0, 240.01233396716216`}, {0, 129.00662950734966`}}]], "Output",
 CellTags->"RasterizedOutput",
 CellLabel->"Out[2]=",
 CellID->178374855,ExpressionUUID->"5bb85f56-d00d-42b6-8848-d9e4e66bbd22"]
}, Open  ]],

Cell[TextData[{
 "Then we build up a simple hopping function ",
 Cell[BoxData[
  RowBox[{
   RowBox[{
    StyleBox["tfunc",
     FontSlant->"Italic"], 
    StyleBox[":",
     FontSlant->"Plain"], 
    StyleBox[" ",
     FontSlant->"Plain"], 
    RowBox[{
     SuperscriptBox[
      StyleBox["\[DoubleStruckCapitalR]",
       FontSlant->"Plain"], "2"], "\[Cross]", 
     SuperscriptBox[
      StyleBox["\[DoubleStruckCapitalR]",
       FontSlant->"Plain"], "2"]}]}], " ", "\[Rule]", " ", 
   SuperscriptBox["\[DoubleStruckCapitalC]", 
    RowBox[{"1", "\[Cross]", "1"}]]}]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "bdbcc258-b410-4817-9102-3aad406033c5"],
 ", only allowing connections (",
 Cell[BoxData[
  RowBox[{
   RowBox[{
    StyleBox["-",
     FontSlant->"Plain"], 
    StyleBox["t",
     FontSlant->"Italic"]}], "=", 
   RowBox[{"-", "1"}]}]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "8b497797-7a6d-49ac-98e4-34160a2848b8"],
 ") between a nearest-neighbor pair of points, and an onsite energy (",
 Cell[BoxData[
  RowBox[{
   SubscriptBox[
    StyleBox["E",
     FontSlant->"Italic"], "0"], "=", 
   RowBox[{
    RowBox[{"4", 
     StyleBox["t",
      FontSlant->"Italic"]}], "=", "4"}]}]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "309c2bc0-306d-488c-adef-94ffc06e3dc9"],
 ")"
}], "ExampleText",
 CellID->290094296,ExpressionUUID->"393dd23e-248d-4551-8d21-c13868ed9f97"],

Cell[BoxData[{
 RowBox[{"Clear", "[", "tfunc", "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"tfunc", "[", 
   RowBox[{"fpt_", ",", "ipt_"}], "]"}], ":=", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
      RowBox[{"vd", "=", 
       RowBox[{"fpt", "-", "ipt"}]}], ",", "d", ",", 
      RowBox[{"innerdof", "=", "1"}], ",", "defaultfilling", ",", 
      RowBox[{"t", "=", "1."}], ",", 
      RowBox[{"a", "=", "1."}], ",", 
      RowBox[{"zero", "=", "1.*^-5"}]}], "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"d", "=", 
      RowBox[{"Norm", "[", "vd", "]"}]}], ";", 
     RowBox[{"defaultfilling", "=", 
      RowBox[{"ConstantArray", "[", 
       RowBox[{"0.", ",", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"1", ",", "1"}], "}"}], "innerdof"}]}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"Piecewise", "[", 
      RowBox[{
       RowBox[{"{", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"{", 
             RowBox[{"4", "t"}], "}"}], "}"}], ",", 
           RowBox[{
            RowBox[{"Abs", "[", 
             RowBox[{"d", "/", "a"}], "]"}], "<", "zero"}]}], "}"}], ",", 
         "\[IndentingNewLine]", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"{", 
             RowBox[{"-", "t"}], "}"}], "}"}], ",", 
           RowBox[{
            RowBox[{"Abs", "[", 
             RowBox[{
              RowBox[{"d", "/", "a"}], "-", "1"}], "]"}], "<", "zero"}]}], 
          "}"}]}], "}"}], ",", "\[IndentingNewLine]", "defaultfilling"}], 
      "\[IndentingNewLine]", "]"}]}]}], "\[IndentingNewLine]", 
   "]"}]}]}], "Input",
 CellLabel->"In[3]:=",
 CellID->132112033,ExpressionUUID->"3cebc69c-dc32-4d9a-810d-d53c38c2cb9a"],

Cell[TextData[{
 "So the real-space hopping matrix from ",
 StyleBox["pts1", "InlineCode"],
 " to ",
 StyleBox["pts2", "InlineCode"],
 ", and within ",
 StyleBox["pts1", "InlineCode"],
 " are respectively"
}], "ExampleText",
 CellID->87594322,ExpressionUUID->"7b09d4c4-6dbc-4a79-9d4c-3f196521538e"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"h21", "=", 
  RowBox[{"HMatrixFromHoppings", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"pts2", ",", "pts1"}], "}"}], ",", "tfunc", ",", "1.01"}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"h11", "=", 
  RowBox[{"HMatrixFromHoppings", "[", 
   RowBox[{"pts1", ",", "tfunc", ",", "1.01"}], "]"}]}]}], "Input",
 CellLabel->"In[4]:=",
 CellID->154146740,ExpressionUUID->"53ea473b-0474-455a-9f7a-2bb58caa7857"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{
   TagBox["SparseArray",
    "SummaryHead"], "[", 
   DynamicModuleBox[{Typeset`open$$ = False, Typeset`embedState$$ = "Ready"}, 
    TemplateBox[{
      PaneSelectorBox[{False -> GridBox[{{
            PaneBox[
             ButtonBox[
              DynamicBox[
               FEPrivate`FrontEndResource["FEBitmaps", "SummaryBoxOpener"]], 
              ButtonFunction :> (Typeset`open$$ = True), Appearance -> None, 
              BaseStyle -> {}, Evaluator -> Automatic, Method -> 
              "Preemptive"], Alignment -> {Center, Center}, ImageSize -> 
             Dynamic[{
               Automatic, 
                3.5 (CurrentValue["FontCapHeight"]/AbsoluteCurrentValue[
                 Magnification])}]], 
            GraphicsBox[
             
             RasterBox[{{{0.235431, 0.32765, 0.833291}, {0.235431, 0.32765, 
              0.833291}, {0.16791, 0., 0.301671}}, {{0.235431, 0.32765, 
              0.833291}, {0.16791, 0., 0.301671}, {0.235431, 0.32765, 
              0.833291}}}, {{0, 0}, {3, 2}}, {0, 1}], AspectRatio -> 1, Axes -> 
             False, Frame -> False, FrameLabel -> {None, None}, FrameStyle -> 
             Directive[
               Opacity[0.5], 
               Thickness[Tiny], 
               RGBColor[0.368417, 0.506779, 0.709798]], 
             FrameTicks -> {{None, None}, {None, None}}, GridLinesStyle -> 
             Directive[
               GrayLevel[0.5, 0.4]], ImageSize -> 
             Dynamic[{
               Automatic, 
                3.5 (CurrentValue["FontCapHeight"]/AbsoluteCurrentValue[
                 Magnification])}], 
             Method -> {
              "AxisPadding" -> Scaled[0.02], "DefaultBoundaryStyle" -> 
               Automatic, 
               "DefaultGraphicsInteraction" -> {
                "Version" -> 1.2, "TrackMousePosition" -> {True, False}, 
                 "Effects" -> {
                  "Highlight" -> {"ratio" -> 2}, 
                   "HighlightPoint" -> {"ratio" -> 2}, 
                   "Droplines" -> {
                    "freeformCursorMode" -> True, 
                    "placement" -> {"x" -> "All", "y" -> "None"}}}}, 
               "DefaultPlotStyle" -> Automatic, "DomainPadding" -> 
               Scaled[0.02], "RangePadding" -> Scaled[0.05]}], 
            GridBox[{{
               RowBox[{
                 TagBox["\"Specified elements: \"", "SummaryItemAnnotation"], 
                 "\[InvisibleSpace]", 
                 TagBox["2", "SummaryItem"]}]}, {
               RowBox[{
                 TagBox["\"Dimensions: \"", "SummaryItemAnnotation"], 
                 "\[InvisibleSpace]", 
                 TagBox[
                  RowBox[{"{", 
                    RowBox[{"2", ",", "3"}], "}"}], "SummaryItem"]}]}}, 
             GridBoxAlignment -> {
              "Columns" -> {{Left}}, "Rows" -> {{Automatic}}}, AutoDelete -> 
             False, GridBoxItemSize -> {
              "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}, 
             GridBoxSpacings -> {"Columns" -> {{2}}, "Rows" -> {{Automatic}}},
              BaseStyle -> {
              ShowStringCharacters -> False, NumberMarks -> False, 
               PrintPrecision -> 3, ShowSyntaxStyles -> False}]}}, 
          GridBoxAlignment -> {"Columns" -> {{Left}}, "Rows" -> {{Top}}}, 
          AutoDelete -> False, 
          GridBoxItemSize -> {
           "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}, 
          BaselinePosition -> {1, 1}], True -> GridBox[{{
            PaneBox[
             ButtonBox[
              DynamicBox[
               FEPrivate`FrontEndResource["FEBitmaps", "SummaryBoxCloser"]], 
              ButtonFunction :> (Typeset`open$$ = False), Appearance -> None, 
              BaseStyle -> {}, Evaluator -> Automatic, Method -> 
              "Preemptive"], Alignment -> {Center, Center}, ImageSize -> 
             Dynamic[{
               Automatic, 
                3.5 (CurrentValue["FontCapHeight"]/AbsoluteCurrentValue[
                 Magnification])}]], 
            GraphicsBox[
             
             RasterBox[{{{0.235431, 0.32765, 0.833291}, {0.235431, 0.32765, 
              0.833291}, {0.16791, 0., 0.301671}}, {{0.235431, 0.32765, 
              0.833291}, {0.16791, 0., 0.301671}, {0.235431, 0.32765, 
              0.833291}}}, {{0, 0}, {3, 2}}, {0, 1}], AspectRatio -> 1, Axes -> 
             False, Frame -> False, FrameLabel -> {None, None}, FrameStyle -> 
             Directive[
               Opacity[0.5], 
               Thickness[Tiny], 
               RGBColor[0.368417, 0.506779, 0.709798]], 
             FrameTicks -> {{None, None}, {None, None}}, GridLinesStyle -> 
             Directive[
               GrayLevel[0.5, 0.4]], ImageSize -> 
             Dynamic[{
               Automatic, 
                3.5 (CurrentValue["FontCapHeight"]/AbsoluteCurrentValue[
                 Magnification])}], 
             Method -> {
              "AxisPadding" -> Scaled[0.02], "DefaultBoundaryStyle" -> 
               Automatic, 
               "DefaultGraphicsInteraction" -> {
                "Version" -> 1.2, "TrackMousePosition" -> {True, False}, 
                 "Effects" -> {
                  "Highlight" -> {"ratio" -> 2}, 
                   "HighlightPoint" -> {"ratio" -> 2}, 
                   "Droplines" -> {
                    "freeformCursorMode" -> True, 
                    "placement" -> {"x" -> "All", "y" -> "None"}}}}, 
               "DefaultPlotStyle" -> Automatic, "DomainPadding" -> 
               Scaled[0.02], "RangePadding" -> Scaled[0.05]}], 
            GridBox[{{
               RowBox[{
                 TagBox["\"Specified elements: \"", "SummaryItemAnnotation"], 
                 "\[InvisibleSpace]", 
                 TagBox["2", "SummaryItem"]}]}, {
               RowBox[{
                 TagBox["\"Dimensions: \"", "SummaryItemAnnotation"], 
                 "\[InvisibleSpace]", 
                 TagBox[
                  RowBox[{"{", 
                    RowBox[{"2", ",", "3"}], "}"}], "SummaryItem"]}]}, {
               RowBox[{
                 TagBox["\"Default: \"", "SummaryItemAnnotation"], 
                 "\[InvisibleSpace]", 
                 TagBox["0.`", "SummaryItem"]}]}, {
               RowBox[{
                 TagBox["\"Density: \"", "SummaryItemAnnotation"], 
                 "\[InvisibleSpace]", 
                 TagBox["0.3333333333333333`", "SummaryItem"]}]}, {
               RowBox[{
                 TagBox["\"Elements:\"", "SummaryItemAnnotation"], 
                 "\[InvisibleSpace]", 
                 TagBox["\"\"", "SummaryItem"]}]}, {
               TagBox[
                TagBox[
                 GridBox[{{
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{"1", ",", "2"}], "}"}], "\[Rule]", 
                    StyleBox[
                    PaneBox[
                    RowBox[{"-", "1.`"}], ContentPadding -> False, 
                    FrameMargins -> 0, StripOnInput -> True, BaselinePosition -> 
                    Baseline, ImageSize -> {{1, 300}, Automatic}], 
                    LineBreakWithin -> False]}]}, {
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{"2", ",", "3"}], "}"}], "\[Rule]", 
                    StyleBox[
                    PaneBox[
                    RowBox[{"-", "1.`"}], ContentPadding -> False, 
                    FrameMargins -> 0, StripOnInput -> True, BaselinePosition -> 
                    Baseline, ImageSize -> {{1, 300}, Automatic}], 
                    LineBreakWithin -> False]}]}}, 
                  GridBoxAlignment -> {"Columns" -> {{Left}}}, 
                  DefaultBaseStyle -> "Column", 
                  GridBoxItemSize -> {
                   "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}], 
                 "Column"], "SummaryItem"]}}, 
             GridBoxAlignment -> {
              "Columns" -> {{Left}}, "Rows" -> {{Automatic}}}, AutoDelete -> 
             False, GridBoxItemSize -> {
              "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}, 
             GridBoxSpacings -> {"Columns" -> {{2}}, "Rows" -> {{Automatic}}},
              BaseStyle -> {
              ShowStringCharacters -> False, NumberMarks -> False, 
               PrintPrecision -> 3, ShowSyntaxStyles -> False}]}}, 
          GridBoxAlignment -> {"Columns" -> {{Left}}, "Rows" -> {{Top}}}, 
          AutoDelete -> False, 
          GridBoxItemSize -> {
           "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}, 
          BaselinePosition -> {1, 1}]}, 
       Dynamic[Typeset`open$$], ImageSize -> Automatic]},
     "SummaryPanel"],
    DynamicModuleValues:>{}], "]"}],
  SparseArray[Automatic, {2, 3}, 0., {1, {{0, 1, 2}, {{2}, {3}}}, {-1., -1.}}],
  Editable->False,
  SelectWithContents->True,
  Selectable->False]], "Output",
 CellLabel->"Out[4]=",
 CellID->676834421,ExpressionUUID->"9bd3dbd7-c680-43a9-b1dc-dea6d13db1f0"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{
   TagBox["SparseArray",
    "SummaryHead"], "[", 
   DynamicModuleBox[{Typeset`open$$ = False, Typeset`embedState$$ = "Ready"}, 
    TemplateBox[{
      PaneSelectorBox[{False -> GridBox[{{
            PaneBox[
             ButtonBox[
              DynamicBox[
               FEPrivate`FrontEndResource["FEBitmaps", "SummaryBoxOpener"]], 
              ButtonFunction :> (Typeset`open$$ = True), Appearance -> None, 
              BaseStyle -> {}, Evaluator -> Automatic, Method -> 
              "Preemptive"], Alignment -> {Center, Center}, ImageSize -> 
             Dynamic[{
               Automatic, 
                3.5 (CurrentValue["FontCapHeight"]/AbsoluteCurrentValue[
                 Magnification])}]], 
            GraphicsBox[
             
             RasterBox[{{{0.235431, 0.32765, 0.833291}, {0.29520599999999997`,
               0.05608818461538462, 0.5788497692307693}, {0.772061, 0.92462, 
              0.998703}}, {{0.29520599999999997`, 0.05608818461538462, 
              0.5788497692307693}, {0.772061, 0.92462, 0.998703}, {
              0.29520599999999997`, 0.05608818461538462, 
              0.5788497692307693}}, {{0.772061, 0.92462, 0.998703}, {
              0.29520599999999997`, 0.05608818461538462, 
              0.5788497692307693}, {0.235431, 0.32765, 0.833291}}}, {{0, 0}, {
              3, 3}}, {0, 1}], AspectRatio -> 1, Axes -> False, Frame -> 
             False, FrameLabel -> {None, None}, FrameStyle -> Directive[
               Opacity[0.5], 
               Thickness[Tiny], 
               RGBColor[0.368417, 0.506779, 0.709798]], 
             FrameTicks -> {{None, None}, {None, None}}, GridLinesStyle -> 
             Directive[
               GrayLevel[0.5, 0.4]], ImageSize -> 
             Dynamic[{
               Automatic, 
                3.5 (CurrentValue["FontCapHeight"]/AbsoluteCurrentValue[
                 Magnification])}], 
             Method -> {
              "AxisPadding" -> Scaled[0.02], "DefaultBoundaryStyle" -> 
               Automatic, 
               "DefaultGraphicsInteraction" -> {
                "Version" -> 1.2, "TrackMousePosition" -> {True, False}, 
                 "Effects" -> {
                  "Highlight" -> {"ratio" -> 2}, 
                   "HighlightPoint" -> {"ratio" -> 2}, 
                   "Droplines" -> {
                    "freeformCursorMode" -> True, 
                    "placement" -> {"x" -> "All", "y" -> "None"}}}}, 
               "DefaultPlotStyle" -> Automatic, "DomainPadding" -> 
               Scaled[0.02], "RangePadding" -> Scaled[0.05]}], 
            GridBox[{{
               RowBox[{
                 TagBox["\"Specified elements: \"", "SummaryItemAnnotation"], 
                 "\[InvisibleSpace]", 
                 TagBox["7", "SummaryItem"]}]}, {
               RowBox[{
                 TagBox["\"Dimensions: \"", "SummaryItemAnnotation"], 
                 "\[InvisibleSpace]", 
                 TagBox[
                  RowBox[{"{", 
                    RowBox[{"3", ",", "3"}], "}"}], "SummaryItem"]}]}}, 
             GridBoxAlignment -> {
              "Columns" -> {{Left}}, "Rows" -> {{Automatic}}}, AutoDelete -> 
             False, GridBoxItemSize -> {
              "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}, 
             GridBoxSpacings -> {"Columns" -> {{2}}, "Rows" -> {{Automatic}}},
              BaseStyle -> {
              ShowStringCharacters -> False, NumberMarks -> False, 
               PrintPrecision -> 3, ShowSyntaxStyles -> False}]}}, 
          GridBoxAlignment -> {"Columns" -> {{Left}}, "Rows" -> {{Top}}}, 
          AutoDelete -> False, 
          GridBoxItemSize -> {
           "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}, 
          BaselinePosition -> {1, 1}], True -> GridBox[{{
            PaneBox[
             ButtonBox[
              DynamicBox[
               FEPrivate`FrontEndResource["FEBitmaps", "SummaryBoxCloser"]], 
              ButtonFunction :> (Typeset`open$$ = False), Appearance -> None, 
              BaseStyle -> {}, Evaluator -> Automatic, Method -> 
              "Preemptive"], Alignment -> {Center, Center}, ImageSize -> 
             Dynamic[{
               Automatic, 
                3.5 (CurrentValue["FontCapHeight"]/AbsoluteCurrentValue[
                 Magnification])}]], 
            GraphicsBox[
             
             RasterBox[{{{0.235431, 0.32765, 0.833291}, {0.29520599999999997`,
               0.05608818461538462, 0.5788497692307693}, {0.772061, 0.92462, 
              0.998703}}, {{0.29520599999999997`, 0.05608818461538462, 
              0.5788497692307693}, {0.772061, 0.92462, 0.998703}, {
              0.29520599999999997`, 0.05608818461538462, 
              0.5788497692307693}}, {{0.772061, 0.92462, 0.998703}, {
              0.29520599999999997`, 0.05608818461538462, 
              0.5788497692307693}, {0.235431, 0.32765, 0.833291}}}, {{0, 0}, {
              3, 3}}, {0, 1}], AspectRatio -> 1, Axes -> False, Frame -> 
             False, FrameLabel -> {None, None}, FrameStyle -> Directive[
               Opacity[0.5], 
               Thickness[Tiny], 
               RGBColor[0.368417, 0.506779, 0.709798]], 
             FrameTicks -> {{None, None}, {None, None}}, GridLinesStyle -> 
             Directive[
               GrayLevel[0.5, 0.4]], ImageSize -> 
             Dynamic[{
               Automatic, 
                3.5 (CurrentValue["FontCapHeight"]/AbsoluteCurrentValue[
                 Magnification])}], 
             Method -> {
              "AxisPadding" -> Scaled[0.02], "DefaultBoundaryStyle" -> 
               Automatic, 
               "DefaultGraphicsInteraction" -> {
                "Version" -> 1.2, "TrackMousePosition" -> {True, False}, 
                 "Effects" -> {
                  "Highlight" -> {"ratio" -> 2}, 
                   "HighlightPoint" -> {"ratio" -> 2}, 
                   "Droplines" -> {
                    "freeformCursorMode" -> True, 
                    "placement" -> {"x" -> "All", "y" -> "None"}}}}, 
               "DefaultPlotStyle" -> Automatic, "DomainPadding" -> 
               Scaled[0.02], "RangePadding" -> Scaled[0.05]}], 
            GridBox[{{
               RowBox[{
                 TagBox["\"Specified elements: \"", "SummaryItemAnnotation"], 
                 "\[InvisibleSpace]", 
                 TagBox["7", "SummaryItem"]}]}, {
               RowBox[{
                 TagBox["\"Dimensions: \"", "SummaryItemAnnotation"], 
                 "\[InvisibleSpace]", 
                 TagBox[
                  RowBox[{"{", 
                    RowBox[{"3", ",", "3"}], "}"}], "SummaryItem"]}]}, {
               RowBox[{
                 TagBox["\"Default: \"", "SummaryItemAnnotation"], 
                 "\[InvisibleSpace]", 
                 TagBox["0.`", "SummaryItem"]}]}, {
               RowBox[{
                 TagBox["\"Density: \"", "SummaryItemAnnotation"], 
                 "\[InvisibleSpace]", 
                 TagBox["0.7777777777777778`", "SummaryItem"]}]}, {
               RowBox[{
                 TagBox["\"Elements:\"", "SummaryItemAnnotation"], 
                 "\[InvisibleSpace]", 
                 TagBox["\"\"", "SummaryItem"]}]}, {
               TagBox[
                TagBox[
                 GridBox[{{
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{"1", ",", "1"}], "}"}], "\[Rule]", 
                    StyleBox[
                    PaneBox[
                    "4.`", ContentPadding -> False, FrameMargins -> 0, 
                    StripOnInput -> True, BaselinePosition -> Baseline, 
                    ImageSize -> {{1, 300}, Automatic}], LineBreakWithin -> 
                    False]}]}, {
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{"1", ",", "2"}], "}"}], "\[Rule]", 
                    StyleBox[
                    PaneBox[
                    RowBox[{"-", "1.`"}], ContentPadding -> False, 
                    FrameMargins -> 0, StripOnInput -> True, BaselinePosition -> 
                    Baseline, ImageSize -> {{1, 300}, Automatic}], 
                    LineBreakWithin -> False]}]}, {
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{"2", ",", "1"}], "}"}], "\[Rule]", 
                    StyleBox[
                    PaneBox[
                    RowBox[{"-", "1.`"}], ContentPadding -> False, 
                    FrameMargins -> 0, StripOnInput -> True, BaselinePosition -> 
                    Baseline, ImageSize -> {{1, 300}, Automatic}], 
                    LineBreakWithin -> False]}]}, {
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{"2", ",", "2"}], "}"}], "\[Rule]", 
                    StyleBox[
                    PaneBox[
                    "4.`", ContentPadding -> False, FrameMargins -> 0, 
                    StripOnInput -> True, BaselinePosition -> Baseline, 
                    ImageSize -> {{1, 300}, Automatic}], LineBreakWithin -> 
                    False]}]}, {
                    ItemBox[
                    "\"\[VerticalEllipsis]\"", Alignment -> Center, 
                    StripOnInput -> False]}}, 
                  GridBoxAlignment -> {"Columns" -> {{Left}}}, 
                  DefaultBaseStyle -> "Column", 
                  GridBoxItemSize -> {
                   "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}], 
                 "Column"], "SummaryItem"]}}, 
             GridBoxAlignment -> {
              "Columns" -> {{Left}}, "Rows" -> {{Automatic}}}, AutoDelete -> 
             False, GridBoxItemSize -> {
              "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}, 
             GridBoxSpacings -> {"Columns" -> {{2}}, "Rows" -> {{Automatic}}},
              BaseStyle -> {
              ShowStringCharacters -> False, NumberMarks -> False, 
               PrintPrecision -> 3, ShowSyntaxStyles -> False}]}}, 
          GridBoxAlignment -> {"Columns" -> {{Left}}, "Rows" -> {{Top}}}, 
          AutoDelete -> False, 
          GridBoxItemSize -> {
           "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}, 
          BaselinePosition -> {1, 1}]}, 
       Dynamic[Typeset`open$$], ImageSize -> Automatic]},
     "SummaryPanel"],
    DynamicModuleValues:>{}], "]"}],
  SparseArray[
  Automatic, {3, 3}, 0., {
   1, {{0, 2, 5, 7}, {{1}, {2}, {1}, {2}, {3}, {2}, {3}}}, {4., -1., -1., 
    4., -1., -1., 4.}}],
  Editable->False,
  SelectWithContents->True,
  Selectable->False]], "Output",
 CellLabel->"Out[4]=",
 CellID->278713175,ExpressionUUID->"5c12b34a-de49-4590-b92b-c8dab98d90d0"]
}, Open  ]],

Cell["To see them explicitly,", "ExampleText",
 CellID->546726650,ExpressionUUID->"4d0a2099-7b87-4f8c-b369-879e57b6f82d"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"TableForm", "[", 
  RowBox[{"h21", ",", 
   RowBox[{"TableAlignments", "\[Rule]", "Right"}], ",", 
   RowBox[{"TableHeadings", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{
       RowBox[{
        RowBox[{"Style", "[", 
         RowBox[{"#", ",", "Blue"}], "]"}], "&"}], "/@", 
       RowBox[{"{", 
        RowBox[{
        "\"\<|1\[RightAngleBracket]\>\"", ",", 
         "\"\<|2\[RightAngleBracket]\>\""}], "}"}]}], ",", 
      RowBox[{
       RowBox[{
        RowBox[{"Style", "[", 
         RowBox[{"#", ",", "Red"}], "]"}], "&"}], "/@", 
       RowBox[{"{", 
        RowBox[{
        "\"\<\[LeftAngleBracket]1|\>\"", ",", "\"\<\[LeftAngleBracket]2|\>\"",
          ",", "\"\<\[LeftAngleBracket]3|\>\""}], "}"}]}]}], "}"}]}]}], 
  "]"}], "\[IndentingNewLine]", 
 RowBox[{"TableForm", "[", 
  RowBox[{"h11", ",", 
   RowBox[{"TableAlignments", "\[Rule]", "Right"}], ",", 
   RowBox[{"TableHeadings", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{
       RowBox[{
        RowBox[{"Style", "[", 
         RowBox[{"#", ",", "Red"}], "]"}], "&"}], "/@", 
       RowBox[{"{", 
        RowBox[{
        "\"\<|1\[RightAngleBracket]\>\"", ",", 
         "\"\<|2\[RightAngleBracket]\>\"", ",", 
         "\"\<|3\[RightAngleBracket]\>\""}], "}"}]}], ",", 
      RowBox[{
       RowBox[{
        RowBox[{"Style", "[", 
         RowBox[{"#", ",", "Red"}], "]"}], "&"}], "/@", 
       RowBox[{"{", 
        RowBox[{
        "\"\<\[LeftAngleBracket]1|\>\"", ",", "\"\<\[LeftAngleBracket]2|\>\"",
          ",", "\"\<\[LeftAngleBracket]3|\>\""}], "}"}]}]}], "}"}]}]}], 
  "]"}]}], "Input",
 CellLabel->"In[5]:=",
 CellID->5304670,ExpressionUUID->"241b75d2-edd5-4d4c-9549-463993c984de"],

Cell[BoxData[
 TagBox[
  TagBox[GridBox[{
     {
      StyleBox["\[Null]",
       ShowStringCharacters->False], 
      TagBox[
       StyleBox["\<\"\[LeftAngleBracket]1|\"\>",
        StripOnInput->False,
        LineColor->RGBColor[1, 0, 0],
        FrontFaceColor->RGBColor[1, 0, 0],
        BackFaceColor->RGBColor[1, 0, 0],
        GraphicsColor->RGBColor[1, 0, 0],
        FontColor->RGBColor[1, 0, 0]],
       HoldForm], 
      TagBox[
       StyleBox["\<\"\[LeftAngleBracket]2|\"\>",
        StripOnInput->False,
        LineColor->RGBColor[1, 0, 0],
        FrontFaceColor->RGBColor[1, 0, 0],
        BackFaceColor->RGBColor[1, 0, 0],
        GraphicsColor->RGBColor[1, 0, 0],
        FontColor->RGBColor[1, 0, 0]],
       HoldForm], 
      TagBox[
       StyleBox["\<\"\[LeftAngleBracket]3|\"\>",
        StripOnInput->False,
        LineColor->RGBColor[1, 0, 0],
        FrontFaceColor->RGBColor[1, 0, 0],
        BackFaceColor->RGBColor[1, 0, 0],
        GraphicsColor->RGBColor[1, 0, 0],
        FontColor->RGBColor[1, 0, 0]],
       HoldForm]},
     {
      TagBox[
       StyleBox["\<\"|1\[RightAngleBracket]\"\>",
        StripOnInput->False,
        LineColor->RGBColor[0, 0, 1],
        FrontFaceColor->RGBColor[0, 0, 1],
        BackFaceColor->RGBColor[0, 0, 1],
        GraphicsColor->RGBColor[0, 0, 1],
        FontColor->RGBColor[0, 0, 1]],
       HoldForm], "0.`", 
      RowBox[{"-", "1.`"}], "0.`"},
     {
      TagBox[
       StyleBox["\<\"|2\[RightAngleBracket]\"\>",
        StripOnInput->False,
        LineColor->RGBColor[0, 0, 1],
        FrontFaceColor->RGBColor[0, 0, 1],
        BackFaceColor->RGBColor[0, 0, 1],
        GraphicsColor->RGBColor[0, 0, 1],
        FontColor->RGBColor[0, 0, 1]],
       HoldForm], "0.`", "0.`", 
      RowBox[{"-", "1.`"}]}
    },
    GridBoxAlignment->{"Columns" -> {{Right}}, "Rows" -> {{Baseline}}},
    GridBoxDividers->{
     "Columns" -> {False, True, {False}, False}, 
      "Rows" -> {False, True, {False}, False}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[2.0999999999999996`]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}],
   {OutputFormsDump`HeadedRows, OutputFormsDump`HeadedColumns}],
  Function[BoxForm`e$, 
   TableForm[BoxForm`e$, TableAlignments -> Right, TableHeadings -> {{
       Style["|1\[RightAngleBracket]", 
        RGBColor[0, 0, 1]], 
       Style["|2\[RightAngleBracket]", 
        RGBColor[0, 0, 1]]}, {
       Style["\[LeftAngleBracket]1|", 
        RGBColor[1, 0, 0]], 
       Style["\[LeftAngleBracket]2|", 
        RGBColor[1, 0, 0]], 
       Style["\[LeftAngleBracket]3|", 
        RGBColor[1, 0, 0]]}}]]]], "Output",
 CellLabel->"Out[5]//TableForm=",
 CellID->340759932,ExpressionUUID->"0c58efc8-90e4-4e0c-a814-b83e447b448b"],

Cell[BoxData[
 TagBox[
  TagBox[GridBox[{
     {
      StyleBox["\[Null]",
       ShowStringCharacters->False], 
      TagBox[
       StyleBox["\<\"\[LeftAngleBracket]1|\"\>",
        StripOnInput->False,
        LineColor->RGBColor[1, 0, 0],
        FrontFaceColor->RGBColor[1, 0, 0],
        BackFaceColor->RGBColor[1, 0, 0],
        GraphicsColor->RGBColor[1, 0, 0],
        FontColor->RGBColor[1, 0, 0]],
       HoldForm], 
      TagBox[
       StyleBox["\<\"\[LeftAngleBracket]2|\"\>",
        StripOnInput->False,
        LineColor->RGBColor[1, 0, 0],
        FrontFaceColor->RGBColor[1, 0, 0],
        BackFaceColor->RGBColor[1, 0, 0],
        GraphicsColor->RGBColor[1, 0, 0],
        FontColor->RGBColor[1, 0, 0]],
       HoldForm], 
      TagBox[
       StyleBox["\<\"\[LeftAngleBracket]3|\"\>",
        StripOnInput->False,
        LineColor->RGBColor[1, 0, 0],
        FrontFaceColor->RGBColor[1, 0, 0],
        BackFaceColor->RGBColor[1, 0, 0],
        GraphicsColor->RGBColor[1, 0, 0],
        FontColor->RGBColor[1, 0, 0]],
       HoldForm]},
     {
      TagBox[
       StyleBox["\<\"|1\[RightAngleBracket]\"\>",
        StripOnInput->False,
        LineColor->RGBColor[1, 0, 0],
        FrontFaceColor->RGBColor[1, 0, 0],
        BackFaceColor->RGBColor[1, 0, 0],
        GraphicsColor->RGBColor[1, 0, 0],
        FontColor->RGBColor[1, 0, 0]],
       HoldForm], "4.`", 
      RowBox[{"-", "1.`"}], "0.`"},
     {
      TagBox[
       StyleBox["\<\"|2\[RightAngleBracket]\"\>",
        StripOnInput->False,
        LineColor->RGBColor[1, 0, 0],
        FrontFaceColor->RGBColor[1, 0, 0],
        BackFaceColor->RGBColor[1, 0, 0],
        GraphicsColor->RGBColor[1, 0, 0],
        FontColor->RGBColor[1, 0, 0]],
       HoldForm], 
      RowBox[{"-", "1.`"}], "4.`", 
      RowBox[{"-", "1.`"}]},
     {
      TagBox[
       StyleBox["\<\"|3\[RightAngleBracket]\"\>",
        StripOnInput->False,
        LineColor->RGBColor[1, 0, 0],
        FrontFaceColor->RGBColor[1, 0, 0],
        BackFaceColor->RGBColor[1, 0, 0],
        GraphicsColor->RGBColor[1, 0, 0],
        FontColor->RGBColor[1, 0, 0]],
       HoldForm], "0.`", 
      RowBox[{"-", "1.`"}], "4.`"}
    },
    GridBoxAlignment->{"Columns" -> {{Right}}, "Rows" -> {{Baseline}}},
    GridBoxDividers->{
     "Columns" -> {False, True, {False}, False}, 
      "Rows" -> {False, True, {False}, False}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[2.0999999999999996`]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}],
   {OutputFormsDump`HeadedRows, OutputFormsDump`HeadedColumns}],
  Function[BoxForm`e$, 
   TableForm[BoxForm`e$, TableAlignments -> Right, TableHeadings -> {{
       Style["|1\[RightAngleBracket]", 
        RGBColor[1, 0, 0]], 
       Style["|2\[RightAngleBracket]", 
        RGBColor[1, 0, 0]], 
       Style["|3\[RightAngleBracket]", 
        RGBColor[1, 0, 0]]}, {
       Style["\[LeftAngleBracket]1|", 
        RGBColor[1, 0, 0]], 
       Style["\[LeftAngleBracket]2|", 
        RGBColor[1, 0, 0]], 
       Style["\[LeftAngleBracket]3|", 
        RGBColor[1, 0, 0]]}}]]]], "Output",
 CellLabel->"Out[5]//TableForm=",
 CellID->597482874,ExpressionUUID->"355ac6d7-802e-4856-9c51-e6ffef8db720"]
}, Open  ]]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "0"}, 
  Closed]]]]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "PrimaryExamplesSection"}, 
  Closed]]]],

Cell[BoxData[GridBox[{
   {
    DynamicBox[FEPrivate`ImportImage[
      FrontEnd`FileName[{"Documentation", "FooterIcons"}, 
       "RelatedFunction.png"]],
     ImageSizeCache->{50., {27., 33.}}], GridBox[{
      {
       StyleBox[
        RowBox[{"See", " ", "Also"}], "SeeAlsoSection"]},
      {Cell[TextData[{
        ButtonBox["AttachFreeQ",
         BaseStyle->"Link",
         ButtonData->"paclet:TBMethod/ref/AttachFreeQ"],
        " \[CenterDot] ",
        ButtonBox["HBloch",
         BaseStyle->"Link",
         ButtonData->"paclet:TBMethod/ref/HBloch"],
        " \[CenterDot] ",
        ButtonBox["HCSRDiagOffDiagBlocks",
         BaseStyle->"Link",
         ButtonData->"paclet:TBMethod/ref/HCSRDiagOffDiagBlocks"],
        " \[CenterDot] ",
        ButtonBox["HLeadBlocks",
         BaseStyle->"Link",
         ButtonData->"paclet:TBMethod/ref/HLeadBlocks"]
       }], "SeeAlso",ExpressionUUID->"27ee7ebb-e5c6-4f3d-8b22-ae4119fb4585"]}
     }]}
  }]], "SeeAlsoSection",ExpressionUUID->"753774e0-010b-4d21-b7ea-\
e343d9166aa5"],

Cell[BoxData[GridBox[{
   {
    DynamicBox[FEPrivate`ImportImage[
      FrontEnd`FileName[{"Documentation", "FooterIcons"}, "RelatedGuide.png"]],
     ImageSizeCache->{50., {27., 33.}}], GridBox[{
      {
       StyleBox[
        RowBox[{"Related", " ", "Guides"}], "MoreAboutSection"]},
      {
       RowBox[{"\[FilledVerySmallSquare]", Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["TBMethod"]], "paclet:TBMethod/guide/TBMethod"},
          "RefLinkPlain",
          BaseStyle->{"MoreAbout"}]], "MoreAbout",ExpressionUUID->
         "2fab13ae-cffe-4c6d-a746-698c0976ed71"]}]}
     }]}
  }]], "MoreAboutSection",ExpressionUUID->"6756c101-534a-4efa-aa1a-\
39a68cc86f81"],

Cell[" ", "FooterCell",ExpressionUUID->"8bfb7ce3-ad8c-4168-ab34-898fedf9ad47"]
},
Saveable->False,
ScreenStyleEnvironment->"Working",
WindowSize->{900., 830.25},
WindowMargins->{{0, Automatic}, {Automatic, 0}},
WindowTitle->"HMatrixFromHoppings",
TaggingRules->{
 "ModificationHighlight" -> False, "ColorType" -> "", "LinkTrails" -> "", 
  "HasOptions" -> True, "ExampleCounter" -> 1, 
  "Openers" -> {
   "PrimaryExamplesSection" -> Open, "ExampleSection" -> {"0" -> Open}, 
    "NotesSection" -> Closed}, "NewStyles" -> True, 
  "CitationPopupData" -> $Failed, "ShowCitation" -> False, "RootCaptions" -> 
  "", "Metadata" -> {
   "built" -> "{2023, 2, 18, 16, 21, 41.4703312}", 
    "history" -> {"XX", "", "", ""}, "context" -> "TBMethod`MDConstruct`", 
    "keywords" -> {}, "specialkeywords" -> {}, 
    "tutorialcollectionlinks" -> {}, "index" -> True, "label" -> 
    "T B Method Symbol", "language" -> "en", "paclet" -> "TBMethod", "status" -> 
    "None", "summary" -> 
    "HMatrixFromHoppings[{fpts, ipts}, tfunc, dup] constructs the real-space \
tight-binding Hamiltonian matrix from two sets of points (fpts and ipts) and \
a given hopping function tfunc depending on the coordinates of one pair of \
points, within the space distance upper limit dup. HMatrixFromHoppings[pts, \
tfunc, dup] does the same thing within one set of points pts.", 
    "synonyms" -> {}, "tabletags" -> {}, "title" -> "HMatrixFromHoppings", 
    "titlemodifier" -> "", "windowtitle" -> "HMatrixFromHoppings", "type" -> 
    "Symbol", "uri" -> "TBMethod/ref/HMatrixFromHoppings"}},
CellContext->"Global`",
FrontEndVersion->"13.2 for Microsoft Windows (64-bit) (January 30, 2023)",
StyleDefinitions->Notebook[{
   Cell[
    StyleData[
    StyleDefinitions -> FrontEnd`FileName[{"Wolfram"}, "Reference.nb"]]], 
   Cell[
    StyleData["Input"], CellContext -> "Global`"], 
   Cell[
    StyleData["Output"], CellContext -> "Global`"]}, Visible -> False, 
  FrontEndVersion -> "13.2 for Microsoft Windows (64-bit) (January 30, 2023)",
   StyleDefinitions -> "Default.nb"],
ExpressionUUID->"13598fe7-edc8-487c-ac97-735bf70964a7"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{
 "PrimaryExamplesSection"->{
  Cell[13241, 367, 1420, 37, 35, "PrimaryExamplesSection",ExpressionUUID->"834920fa-b4ac-4e06-adb8-6f8c6e10c8ad",
   CellTags->"PrimaryExamplesSection",
   CellID->383195530]},
 "RasterizedOutput"->{
  Cell[18090, 510, 7659, 130, 150, "Output",ExpressionUUID->"5bb85f56-d00d-42b6-8848-d9e4e66bbd22",
   CellTags->"RasterizedOutput",
   CellID->178374855]}
 }
*)
(*CellTagsIndex
CellTagsIndex->{
 {"PrimaryExamplesSection", 61797, 1521},
 {"RasterizedOutput", 61997, 1525}
 }
*)
(*NotebookFileOutline
Notebook[{
Cell[591, 21, 5471, 130, 56, "AnchorBarGrid",ExpressionUUID->"5bf21281-fd27-460f-bc8d-814783f84ac9",
 CellID->1],
Cell[6065, 153, 103, 0, 23, "ContextNameCell",ExpressionUUID->"09f7328c-8be3-41e6-bca6-7ccf88e27106"],
Cell[CellGroupData[{
Cell[6193, 157, 562, 14, 56, "ObjectNameGrid",ExpressionUUID->"d7241724-6e32-442f-8ad5-5fe7be201ecb"],
Cell[6758, 173, 2500, 69, 190, "Usage",ExpressionUUID->"3b2f49b9-d4ed-4c73-a3fa-f46f5dc82680",
 CellID->272985237]
}, Open  ]],
Cell[CellGroupData[{
Cell[9295, 247, 1918, 48, 37, "NotesSection",ExpressionUUID->"93799a31-3b6d-4a3d-b51b-65fa32f5529a",
 CellGroupingRules->{"SectionGrouping", 50},
 CellID->61203554],
Cell[11216, 297, 863, 28, 70, "Notes",ExpressionUUID->"71058613-1643-402d-a283-065e962496a0",
 CellID->573653719],
Cell[12082, 327, 1032, 34, 70, "Notes",ExpressionUUID->"47a1c098-9311-4d1d-b22d-2e385294a771",
 CellID->433456935]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "NotesSection"}, Closed]]]],
Cell[CellGroupData[{
Cell[13241, 367, 1420, 37, 35, "PrimaryExamplesSection",ExpressionUUID->"834920fa-b4ac-4e06-adb8-6f8c6e10c8ad",
 CellTags->"PrimaryExamplesSection",
 CellID->383195530],
Cell[CellGroupData[{
Cell[14686, 408, 1398, 36, 30, "ExampleSection",ExpressionUUID->"651c79db-4a54-4ea7-a05a-55b836a57b71",
 CellID->275229547],
Cell[16087, 446, 113, 1, 38, "ExampleText",ExpressionUUID->"97773341-59aa-427c-b919-d278bca24781",
 CellID->11904999],
Cell[16203, 449, 172, 3, 40, "Input",ExpressionUUID->"e1cc271f-dfef-4e9f-9019-24db7aedc553",
 CellID->226833854],
Cell[16378, 454, 225, 4, 38, "ExampleText",ExpressionUUID->"2bf72d9d-c4d0-40fc-977e-e6f7193a10f8",
 CellID->166050835],
Cell[CellGroupData[{
Cell[16628, 462, 1459, 46, 100, "Input",ExpressionUUID->"d80fd6ef-a991-4ef3-9e64-95dc13aa61de",
 CellID->225342390],
Cell[18090, 510, 7659, 130, 150, "Output",ExpressionUUID->"5bb85f56-d00d-42b6-8848-d9e4e66bbd22",
 CellTags->"RasterizedOutput",
 CellID->178374855]
}, Open  ]],
Cell[25764, 643, 1461, 47, 57, "ExampleText",ExpressionUUID->"393dd23e-248d-4551-8d21-c13868ed9f97",
 CellID->290094296],
Cell[27228, 692, 1830, 51, 239, "Input",ExpressionUUID->"3cebc69c-dc32-4d9a-810d-d53c38c2cb9a",
 CellID->132112033],
Cell[29061, 745, 298, 9, 70, "ExampleText",ExpressionUUID->"7b09d4c4-6dbc-4a79-9d4c-3f196521538e",
 CellID->87594322],
Cell[CellGroupData[{
Cell[29384, 758, 441, 11, 70, "Input",ExpressionUUID->"53ea473b-0474-455a-9f7a-2bb58caa7857",
 CellID->154146740],
Cell[29828, 771, 8991, 186, 70, "Output",ExpressionUUID->"9bd3dbd7-c680-43a9-b1dc-dea6d13db1f0",
 CellID->676834421],
Cell[38822, 959, 10688, 218, 70, "Output",ExpressionUUID->"5c12b34a-de49-4590-b92b-c8dab98d90d0",
 CellID->278713175]
}, Open  ]],
Cell[49525, 1180, 121, 1, 70, "ExampleText",ExpressionUUID->"4d0a2099-7b87-4f8c-b369-879e57b6f82d",
 CellID->546726650],
Cell[CellGroupData[{
Cell[49671, 1185, 1723, 49, 70, "Input",ExpressionUUID->"241b75d2-edd5-4d4c-9549-463993c984de",
 CellID->5304670],
Cell[51397, 1236, 2855, 81, 78, "Output",ExpressionUUID->"0c58efc8-90e4-4e0c-a814-b83e447b448b",
 CellID->340759932],
Cell[54255, 1319, 3312, 95, 94, "Output",ExpressionUUID->"355ac6d7-802e-4856-9c51-e6ffef8db720",
 CellID->597482874]
}, Open  ]]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "0"}, Closed]]]]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "PrimaryExamplesSection"}, Closed]]]],
Cell[57809, 1423, 1041, 28, 70, "SeeAlsoSection",ExpressionUUID->"753774e0-010b-4d21-b7ea-e343d9166aa5"],
Cell[58853, 1453, 700, 18, 70, "MoreAboutSection",ExpressionUUID->"6756c101-534a-4efa-aa1a-39a68cc86f81"],
Cell[59556, 1473, 78, 0, 70, "FooterCell",ExpressionUUID->"8bfb7ce3-ad8c-4168-ab34-898fedf9ad47"]
}
]
*)

(* End of internal cache information *)

